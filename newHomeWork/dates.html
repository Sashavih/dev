<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>dates</title>
</head>

<body>
    <script>
        function formatDate(date) {
            let diff = new Date() - date;
        }
        if (diff < 1000) {
            console.log('прямо сейчас');
        }
        let sec = diff / 1000;
        if (sec < 60) {
            console.log(`${sec} секунд назад`);
        }
        let min = sec / 60;
        if (min < 60) {
            console.log(`${min} минут назад`);
        }
        else {
            let day = date.getDate();
            if (day < 10) {
                day = "0" + day;
            }
            let month = date.getMonth();
            if (month < 10) {
                month = "0" + month;
            }
            let year = date.getFullYear();
            console.log(year);
            if (year < 10) {
                year = "0" + year;
            }
            let hours = date.getHours();
            if (hours < 10) {
                hours = "0" + hours;
            }
            let minutes = date.getMinutes();
            if (minutes < 10) {
                minutes = "0" + minutes;
            }
            console.log(day + "." + month + "." + year + " " + hours + ":" + minutes);
        }

        console.log(formatDate(new Date(new Date - 2000)));
        alert(formatDate(new Date(new Date - 40 * 1000))); // "30 сек. назад"
        alert(formatDate(new Date(new Date - 5 * 60 * 1000))); // "5 мин. назад"
        alert(formatDate(new Date(new Date - 86400 * 4 * 1000))); //  вчерашняя дата вроде 31.12.2016, 20:00
    </script>
</body>

</html>